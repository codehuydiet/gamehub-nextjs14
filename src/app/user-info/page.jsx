import { auth } from '@/lib/auth';
import style from './userinfo.module.css'
import { getAvatar, getCover, getUser } from '@/lib/action';
import Image from 'next/image';
import Link from 'next/link';

const UserInfo = async () => {
    const session = await auth();
    // console.log(session?.user.email);
    const data = await getUser(session?.user.email);
    // console.log(data?.isAdmin);
    return (
        <div className="w-[100%] relative">
            <div className="w-[100%] h-[21.875rem] object-cover px-[0.25rem] overflow-clip rounded-b-xl" >
                <div className='w-[100%] h-[100%] relative'>
                    <Image className="object-cover rounded-b-xl" src={data?.idCover ? await getCover(data?.idCover) : "/nobackground.jpg"} alt="anh bia" fill />
                    <div>

                    </div>
                </div>
            </div>
            <div className="w-[9.375rem] h-[9.375rem] absolute top-[17.5rem] left-[1rem] rounded-[0.625rem] border-[0.3125rem] border-[solid] border-[#0c0d14]">
                <div className='w-[100%] h-[100%] relative'>
                    <Image className="object-cover rounded-[0.625rem]" src={data?.idAvatar ? await getAvatar(data?.idAvatar) : "/noavatar.png"} alt="anh avatar" fill />
                    <div>

                    </div>
                </div>
            </div>
            <div className="ml-[10.375rem] pl-[1.25rem] pt-[1.25rem] flex justify-between h-[6.25rem]">
                <div className="">
                    <div className="text-[1.5rem] font-[900] text-[#f9faff]">{data.userName}</div>
                    <div className="flex flex-row">
                        <svg className="w-[1.125rem] h-[1.125rem] fill-[#666a7f]" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path fillRule="evenodd" clipRule="evenodd" d="M12 9C11.4477 9 11 9.44772 11 10C11 10.5523 11.4477 11 12 11C12.5523 11 13 10.5523 13 10C13 9.44772 12.5523 9 12 9ZM9 10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10C15 11.6569 13.6569 13 12 13C10.3431 13 9 11.6569 9 10Z"></path><path fillRule="evenodd" clipRule="evenodd" d="M12 4C8.108 4 5 7.06285 5 10.7838C5 11.6304 5.31535 12.6393 5.89198 13.7244C6.46239 14.7977 7.25138 15.8761 8.10582 16.841C8.96013 17.8058 9.85738 18.632 10.6263 19.2079C11.0117 19.4965 11.3475 19.7093 11.616 19.8453C11.8487 19.9632 11.9687 19.9913 11.9971 19.998C11.9982 19.9982 11.9992 19.9984 12 19.9986C12.0008 19.9984 12.0018 19.9982 12.0029 19.998C12.0313 19.9913 12.1513 19.9632 12.384 19.8453C12.6525 19.7093 12.9883 19.4965 13.3737 19.2079C14.1426 18.632 15.0399 17.8058 15.8942 16.841C16.7486 15.8761 17.5376 14.7977 18.108 13.7244C18.6846 12.6393 19 11.6304 19 10.7838C19 7.06285 15.892 4 12 4ZM3 10.7838C3 5.90698 7.05544 2 12 2C16.9446 2 21 5.90698 21 10.7838C21 12.0866 20.5296 13.4294 19.8741 14.6629C19.2124 15.9081 18.3228 17.1152 17.3915 18.1669C16.4601 19.2188 15.4645 20.1407 14.5727 20.8086C14.1277 21.1419 13.6913 21.425 13.2879 21.6294C12.9133 21.8192 12.4552 22 12 22C11.5448 22 11.0867 21.8192 10.7121 21.6294C10.3087 21.425 9.87226 21.1419 9.42731 20.8086C8.53548 20.1407 7.53988 19.2188 6.60846 18.1669C5.67719 17.1152 4.78761 15.9081 4.12588 14.6629C3.47036 13.4294 3 12.0866 3 10.7838Z"></path></svg>
                        <div className="ml-[0.25rem] text-[#666a7f]">{data.nation}</div>
                    </div>
                </div>
                <div className="mr-[1rem] h-auto">
                    <button className="text-[1rem] font-[1000] px-[1rem] py-[0.5rem] flex leading-[1.3rem] border-solid border-[1px] border-[#878a9e] rounded-[1.875rem] h-[3.125rem] items-center">
                        <svg className="w-[1.25rem] h-[1.23rem] mr-[0.5rem]" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path fillRule="evenodd" clipRule="evenodd" d="M19.6856 4.31439C19.2503 3.87913 18.5446 3.87913 18.1094 4.31439L8.9578 13.466V15.0422H10.534L19.6856 5.89061C20.1209 5.45535 20.1209 4.74965 19.6856 4.31439ZM16.7037 2.9087C17.9153 1.6971 19.8797 1.6971 21.0913 2.9087C22.3029 4.1203 22.3029 6.0847 21.0913 7.2963L11.6486 16.739C11.4622 16.9254 11.2094 17.0301 10.9457 17.0301H7.96382C7.41487 17.0301 6.96985 16.5851 6.96985 16.0362V13.0543C6.96985 12.7906 7.07458 12.5378 7.26098 12.3514L16.7037 2.9087ZM5.97588 6.09647C4.87797 6.09647 3.98794 6.9865 3.98794 8.08441V18.0241C3.98794 19.122 4.87797 20.0121 5.97588 20.0121H15.9156C17.0135 20.0121 17.9035 19.122 17.9035 18.0241V15.0422C17.9035 14.4932 18.3485 14.0482 18.8975 14.0482C19.4465 14.0482 19.8915 14.4932 19.8915 15.0422V18.0241C19.8915 20.2199 18.1114 22 15.9156 22H5.97588C3.78006 22 2 20.2199 2 18.0241V8.08441C2 5.88859 3.78006 4.10853 5.97588 4.10853H9.95177C10.5007 4.10853 10.9457 4.55354 10.9457 5.1025C10.9457 5.65145 10.5007 6.09647 9.95177 6.09647H5.97588Z"></path></svg>
                        Chỉnh sửa thông tin cá nhân
                    </button>
                </div>
            </div>
            <div className="flex px-[0.25rem]">
                <div className="w-[15.625rem]">
                    <div className="p-[1rem] mb-[1rem] bg-[#1A1B28] rounded-[0.625rem]">
                        <h6 className="text-[1.25rem] font-[1000]">Thông số</h6>
                        <div className="pt-[1rem]">
                            <div className="flex flex-row ml-[0.25rem] mb-[1rem]">
                                <div>
                                    <svg className="w-[2.5rem] h-[2.5rem] fill-[#666A7F]" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path fillRule="evenodd" clipRule="evenodd" d="M12.002 4C11.4497 4 11.002 4.44772 11.002 5C11.002 5.55228 11.4497 6 12.002 6C12.5542 6 13.002 5.55228 13.002 5C13.002 4.44772 12.5542 4 12.002 4ZM9.00195 5C9.00195 3.34315 10.3451 2 12.002 2C13.6588 2 15.002 3.34315 15.002 5C15.002 6.30623 14.1671 7.41747 13.0019 7.8293V8.5828C13.4503 8.65773 13.8922 8.78342 14.319 8.95985L19.9492 11.2903L19.9517 11.2913C20.1346 11.3664 20.302 11.4725 20.4469 11.6042C20.7759 11.7679 21.002 12.1075 21.002 12.5V17.2268C21.0116 17.4774 20.9667 17.7272 20.8703 17.959C20.7087 18.348 20.4087 18.6633 20.0283 18.8442L20.0261 18.8452L14.5641 21.4252C13.763 21.8036 12.888 22 12.002 22C11.116 22 10.241 21.8037 9.43985 21.4252L3.97668 18.8446C3.66495 18.6969 3.40537 18.4581 3.23222 18.1597C3.06692 17.8749 2.98782 17.5485 3.00395 17.2203L3.00214 12.9411C3.00009 12.9005 2.99951 12.8596 3.00041 12.8187C3.00075 12.8032 3.00131 12.7877 3.00207 12.7723L3.00196 12.5004C3.00179 12.1104 3.22494 11.7724 3.55059 11.6074C3.69899 11.4719 3.87112 11.3632 4.05945 11.2874C4.06978 11.2832 4.08015 11.2792 4.09057 11.2754L9.68448 8.96002C10.1113 8.78359 10.5536 8.65773 11.0019 8.5828V7.82929C9.83675 7.41744 9.00195 6.30621 9.00195 5ZM5.00296 14.8665L5.0039 17.118L10.2941 19.6168C10.8281 19.8691 11.4114 20 12.002 20C12.5925 20 13.1758 19.8691 13.7098 19.6168L19.002 17.117V14.866L14.559 16.9346C13.7581 17.3069 12.8851 17.5001 12.0019 17.5001C11.1187 17.5001 10.2462 17.3071 9.44532 16.9348L5.00296 14.8665ZM10.4494 10.808C10.63 10.7333 10.8147 10.6722 11.0019 10.6247V13C11.0019 13.5523 11.4496 14 12.0019 14C12.5542 14 13.0019 13.5523 13.0019 13V10.6247C13.1892 10.6722 13.3743 10.7335 13.5549 10.8081L18.5438 12.8732L13.7153 15.1212C13.1786 15.3708 12.5938 15.5001 12.0019 15.5001C11.41 15.5001 10.8253 15.3708 10.2885 15.1212L5.46001 12.8732L10.4494 10.808Z"></path></svg>
                                </div>
                                <div className="pl-[0.5rem]">
                                    <label className="text-[0.875rem] font-[900] text-[#666A7F]">Số game đã chơi</label>
                                    <div className="pl-[0.25rem] text-[1.25rem] font-[900]">{data.NGamePlayed}</div>
                                </div>
                            </div>
                            <div className="flex flex-row ml-[0.25rem] mb-[1rem]">
                                <div>
                                    <svg className="w-[2.5rem] h-[2.5rem] fill-[#666A7F]" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path fillRule="evenodd" clipRule="evenodd" d="M8 2C8.55228 2 9 2.44772 9 3V4H15V3C15 2.44772 15.4477 2 16 2C16.5523 2 17 2.44772 17 3V4H19C20.6569 4 22 5.34315 22 7V19C22 20.6569 20.6569 22 19 22H5C3.34315 22 2 20.6569 2 19V7C2 5.34315 3.34315 4 5 4H7V3C7 2.44772 7.44772 2 8 2ZM7 6H5C4.44772 6 4 6.44772 4 7V19C4 19.5523 4.44772 20 5 20H19C19.5523 20 20 19.5523 20 19V7C20 6.44772 19.5523 6 19 6H17V7C17 7.55228 16.5523 8 16 8C15.4477 8 15 7.55228 15 7V6H9V7C9 7.55228 8.55228 8 8 8C7.44772 8 7 7.55228 7 7V6ZM13.3827 9.07612C13.7564 9.2309 14 9.59554 14 10V16C14 16.5523 13.5523 17 13 17C12.4477 17 12 16.5523 12 16V12.4142L11.7071 12.7071C11.3166 13.0976 10.6834 13.0976 10.2929 12.7071C9.90237 12.3166 9.90237 11.6834 10.2929 11.2929L12.2929 9.29289C12.5789 9.0069 13.009 8.92134 13.3827 9.07612Z"></path></svg>
                                </div>
                                <div className="pl-[0.5rem]">
                                    <label className="text-[0.875rem] font-[900] text-[#666A7F]">Ngày tham gia</label>
                                    <div className="pl-[0.25rem] text-[1.25rem] font-[900]">{data.createdAt.toLocaleDateString('en-US')}</div>
                                </div>
                            </div>
                            <div className="flex flex-row ml-[0.25rem] mb-[1rem]">
                                <div>
                                    <svg className="w-[2.5rem] h-[2.5rem] fill-[#666A7F]" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path fillRule="evenodd" clipRule="evenodd" d="M10.1051 3.90453C10.1051 2.84042 10.9755 2 12.0215 2H12.1183C13.7773 2 15.1446 3.33088 15.1446 5V9H18.9711C21.2014 9 22.6959 11.3321 21.6755 13.3463L18.1295 20.3463C17.6137 21.3646 16.5645 22 15.4251 22H11.3546C11.1082 22 10.8627 21.9702 10.6236 21.9112L6.93101 21H5.02628C3.36726 21 2 19.6691 2 18V12C2 10.3309 3.36726 9 5.02628 9H7.19669L9.66081 5.35177C9.95107 4.92203 10.1051 4.41848 10.1051 3.90453ZM6.05257 11H5.02628C4.44713 11 4 11.46 4 12V18C4 18.54 4.44713 19 5.02628 19H6.05257V11ZM8.05257 19.2168V11.3061L11.3182 6.47121C11.8129 5.73871 12.0857 4.88122 12.1041 4H12.1183C12.6974 4 13.1446 4.45998 13.1446 5V9H12.1183C11.566 9 11.1183 9.44772 11.1183 10C11.1183 10.5523 11.566 11 12.1183 11H18.9711C19.7534 11 20.2183 11.7971 19.8914 12.4425L16.3454 19.4425C16.1747 19.7794 15.8207 20 15.4251 20H11.3546C11.2696 20 11.185 19.9897 11.1027 19.9694L8.05257 19.2168Z"></path></svg>
                                </div>
                                <div className="pl-[0.5rem]">
                                    <label className="text-[0.875rem] font-[900] text-[#666A7F]">Số game yêu thích</label>
                                    <div className="pl-[0.25rem] text-[1.25rem] font-[900]">{data.NGameFavorited}</div>
                                </div>
                            </div>
                            <div className="flex flex-row ml-[0.25rem] mb-[1rem]">
                                <div>
                                    <svg className="w-[2.5rem] h-[2.5rem] fill-[#666A7F]" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path fillRule="evenodd" clipRule="evenodd" d="M13.8556 2.01042C14.1999 1.96018 14.5455 2.09248 14.7682 2.35976C17.2757 5.36878 20 9.21266 20 13.7999C20 16.1453 19.1579 18.2104 17.6483 19.6893C16.1396 21.1674 14.0258 21.9999 11.5882 21.9999C9.03924 21.9999 7.10704 20.8282 5.8406 19.1449C4.5948 17.489 4 15.3564 4 13.3499C4 11.317 4.57968 9.76054 5.47779 8.52458C6.35873 7.31224 7.51181 6.4571 8.5693 5.76369C8.8326 5.59104 9.16183 5.55248 9.4579 5.65961C9.75396 5.76673 9.98229 6.00704 10.0741 6.3082C10.2241 6.79976 10.4331 7.25547 10.6343 7.58479C10.8629 7.30707 11.0942 6.94482 11.3582 6.44182C11.7901 5.61877 12.2669 4.50591 12.9585 2.89162C12.9985 2.79812 13.0393 2.70293 13.0809 2.60602C13.2179 2.28623 13.5113 2.06066 13.8556 2.01042ZM14.263 4.92165C13.8332 5.91424 13.4713 6.71911 13.1291 7.37126C12.6171 8.34673 12.1033 9.07347 11.3801 9.63813C10.7888 10.0998 10.1528 9.85682 9.85364 9.6654C9.55424 9.47384 9.31149 9.18921 9.12778 8.93146C8.96402 8.70171 8.80589 8.43417 8.66045 8.14396C8.063 8.60336 7.52787 9.10557 7.09574 9.70026C6.44973 10.5893 6 11.7329 6 13.3499C6 14.9936 6.49344 16.6859 7.43881 17.9425C8.36355 19.1717 9.72547 19.9999 11.5882 19.9999C13.5624 19.9999 15.1545 19.3326 16.2487 18.2606C17.3421 17.1895 18 15.6546 18 13.7999C18 10.5224 16.3184 7.58246 14.263 4.92165Z"></path><path fillRule="evenodd" clipRule="evenodd" d="M15 17.8C15 19.6667 13.7143 21 11.8235 21C9.93277 21 9 19.2222 9 17.6C9 15.9778 9.88235 15.2 10.7647 14.6C10.9412 15.2 11.2952 15.742 11.4706 15.6C11.9549 15.2078 12.2143 14.5555 12.8571 13C13.9286 14.3334 15 15.9333 15 17.8Z"></path></svg>
                                </div>
                                <div className="pl-[0.5rem]">
                                    <label className="text-[0.875rem] font-[900] text-[#666A7F]">Chuỗi ngày hoạt động</label>
                                    <div className="flex">
                                        <div className="pl-[0.25rem] text-[1.25rem] font-[900]">1 ngày</div>
                                        <div className="w-[1.5rem] flex justify-center items-center">
                                            <svg className="w-[0.9375rem] h-[0.9375rem] fill-[#8668FF]" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path xmlns="http://www.w3.org/2000/svg" fillRule="evenodd" clipRule="evenodd" d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12.0001 8C10.5283 8 9.47159 8.70623 9.13224 9.4263C8.89681 9.92589 8.30095 10.14 7.80136 9.90458C7.30178 9.66914 7.08764 9.07329 7.32308 8.5737C8.08197 6.96338 9.98852 6 12.0001 6C13.3001 6 14.5155 6.39395 15.4285 7.07868C16.3418 7.76364 17.0001 8.78625 17.0001 10C17.0001 12.0693 15.166 13.5082 13.1827 13.8887C13.11 13.9026 13.0522 13.9386 13.0206 13.972C13.0064 13.9871 13.0014 13.9974 13.0002 14.0001C13.0002 14.0003 13.0001 14.0004 13.0001 14.0005C12.9998 14.5526 12.5522 15 12.0001 15C11.4478 15 11.0001 14.5523 11.0001 14C11.0001 12.8579 11.9097 12.0964 12.8059 11.9245C14.2788 11.6419 15.0001 10.7295 15.0001 10C15.0001 9.5569 14.7629 9.0795 14.2285 8.67868C13.6937 8.27763 12.9092 8 12.0001 8ZM11 17C11 16.4477 11.4477 16 12 16H12.01C12.5623 16 13.01 16.4477 13.01 17C13.01 17.5523 12.5623 18 12.01 18H12C11.4477 18 11 17.5523 11 17Z"></path></svg>
                                        </div>
                                    </div>
                                    <div className="text-[#aaadbe]">
                                        Cao nhất: 6 ngày
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div className="p-[1rem] mb-[1rem] bg-[#1A1B28] rounded-[0.625rem]">
                        <h6 className="text-[1.25rem] font-[1000]">Hoạt động</h6>
                        <div>

                        </div>
                    </div>
                </div>
                <div className="flex-1 p-[1rem] ml-[1rem] mb-[1rem] bg-[#1A1B28] rounded-[0.625rem] ">
                    <h6 className="mb-[1rem] text-[1.25rem] font-[1000]">Game đã thích</h6>
                    <div className="h-[70%] p-[1rem] flex flex-col items-center justify-center">
                        <div className="">
                            <svg className="w-[4.375rem] h-[4.375rem] fill-[#2f3148]" viewBox="0 0 24 24" focusable="false" aria-hidden="true" ><path fillRule="evenodd" clipRule="evenodd" d="M10.1051 3.90453C10.1051 2.84042 10.9755 2 12.0215 2H12.1183C13.7773 2 15.1446 3.33088 15.1446 5V9H18.9711C21.2014 9 22.6959 11.3321 21.6755 13.3463L18.1295 20.3463C17.6137 21.3646 16.5645 22 15.4251 22H11.3546C11.1082 22 10.8627 21.9702 10.6236 21.9112L6.93101 21H5.02628C3.36726 21 2 19.6691 2 18V12C2 10.3309 3.36726 9 5.02628 9H7.19669L9.66081 5.35177C9.95107 4.92203 10.1051 4.41848 10.1051 3.90453ZM6.05257 11H5.02628C4.44713 11 4 11.46 4 12V18C4 18.54 4.44713 19 5.02628 19H6.05257V11ZM8.05257 19.2168V11.3061L11.3182 6.47121C11.8129 5.73871 12.0857 4.88122 12.1041 4H12.1183C12.6974 4 13.1446 4.45998 13.1446 5V9H12.1183C11.566 9 11.1183 9.44772 11.1183 10C11.1183 10.5523 11.566 11 12.1183 11H18.9711C19.7534 11 20.2183 11.7971 19.8914 12.4425L16.3454 19.4425C16.1747 19.7794 15.8207 20 15.4251 20H11.3546C11.2696 20 11.185 19.9897 11.1027 19.9694L8.05257 19.2168Z"></path></svg>
                        </div>
                        <div className="text-[1.25rem] font-[1000]">
                            Game mà bạn yêu thích sẽ hiện ở đây
                        </div>
                        <div className="font-[400] text-[1rem] text-[#aaadbe]">
                            Hãy chơi thử vài game, nếu thấy thích hãy cho game đó 1 like!
                        </div>
                        <Link href='/' className="h-[3.125rem] py-[0.5rem] px-[1rem] mt-[1rem] mb-[0.5rem] bg-[#6842ff] rounded-[1.875rem] text-[1rem] font-[1000]">
                            Hãy chơi game nào
                        </Link>

                    </div>
                </div>
            </div>
        </div>
    )
}

export default UserInfo